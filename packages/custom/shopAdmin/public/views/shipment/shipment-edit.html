<div class=" row bs-fa-color">
    <div class="row" style="margin-top: 10px;">
        <div class="col-md-8">
            <span><i class="fa fa-car"></i> <strong>View Shipment Details - #{{shipmentId}}</strong> </span>
            <span>(<a data-ui-sref="Order.Edit({orderId: shipment.order._id})">back to order details</a>)</span>
        </div>
        <div class="col-md-4">
            <button type="button" class="btn btn-default" data-ng-click="printPackagingSlip()">Print Packaging Slip</button>
        </div>
    </div>
    <hr>
    <div>
        <div class="row alert alert-success text-center" data-ng-show="updateSuccessMsg">
            <label data-ng-bind="updateSuccessMsg"></label>
        </div>
        <form class="form-horizontal" name="updateShipmentForm">
            <div class="form-group">
                <label class="col-sm-2"><i class="fa fa-question-circle fa-fw"></i> Order Id</label>
                <div class="col-sm-4">
                    <div class="form-control" data-ng-bind="shipment.order._id"></div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2" for="trackingNumber"><i class="fa fa-question-circle fa-fw"></i> Tracking Number</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control" id="trackingNumber" placeholder="tracking number" data-ng-model="trackingNumber">
                    <button type="button" class="btn btn-default" data-ng-click="setTrackingNumber()">Set tracking Number</button>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2" for="adminComment"><i class="fa fa-question-circle fa-fw"></i> Admin comment</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control" id="adminComment" placeholder="Admin comment" data-ng-model="adminComment">
                    <button type="button" class="btn btn-default" data-ng-click="setAdminComment()">Set admin comment</button>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2"><i class="fa fa-question-circle fa-fw"></i> Date shipped</label>
                <div class="col-sm-4" data-ng-show="!showShippedInputBox">
                    <span data-ng-bind="shipment.shippedDate || 'Not yet'"></span>
                    <button data-ng-show="!shipment.shippedDate" class="btn btn-default" data-ng-click="setShippedDate()">Set as shipped</button>
                    <button data-ng-show="shipment.shippedDate" class="btn btn-default" data-ng-click="showEditableShippedDate()">Edit</button>
                </div>
                <div class="col-sm-4" data-ng-show="showShippedInputBox">
                    <p class="input-group">
                        <input type="date" id="shippedDate" class="form-control" datepicker-popup data-ng-model="shippedDate" is-open="shippedDateOpened" datepicker-options="dateOptions" show-button-bar="false" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="shippedDatePickerOpen($event)"><i class="fa fa-calendar"></i></button>
                            <button type="button" class="btn btn-default" ng-click="resetShippedDate()"><i class="fa fa-times"></i></button>
                        </span>
                    </p>
                    <button class="btn btn-default" data-ng-click="updateShippedDate()">Save</button>
                    <button class="btn btn-default" data-ng-click="cancelUpdateShippedDate()">Cancel</button>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2"><i class="fa fa-question-circle fa-fw"></i> Date delivered</label>
                <div class="col-sm-4" data-ng-show="!showDeliveredInputBox">
                    <span data-ng-bind="shipment.deliveredDate || 'Not yet'"></span>
                    <button data-ng-show="shipment.shippedDate && !shipment.deliveredDate" class="btn btn-default" data-ng-click="setDeliveredDate()">Set as delivered</button>
                    <button data-ng-show="shipment.deliveredDate" class="btn btn-default" data-ng-click="showEditableDeliveredDate()">Edit</button>
                </div>
                <div class="col-sm-4" data-ng-show="showDeliveredInputBox">
                    <p class="input-group">
                        <input type="date" id="deliveredDate" class="form-control" datepicker-popup data-ng-model="deliveredDate" is-open="deliveredDateOpened" datepicker-options="dateOptions" show-button-bar="false" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="deliveredDatePickerOpen($event)"><i class="fa fa-calendar"></i></button>
                            <button type="button" class="btn btn-default" ng-click="resetDeliveredDate()"><i class="fa fa-times"></i></button>
                        </span>
                    </p>
                    <button class="btn btn-default" data-ng-click="updateDeliveredDate()">Save</button>
                    <button class="btn btn-default" data-ng-click="cancelUpdateDeliveredDate()">Cancel</button>
                </div>
            </div>
            <hr>
            <h4>Products shipped:</h4>
            <div class="table-responsive" id="productTable">
                <table class="table table-bordered table-hover" role="grid" >
                    <thead class="tbl-header">
                        <tr class="row">
                            <th>Product</th>
                            <th>SKU</th>
                            <th>Quantity shipped</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="row" data-ng-repeat="product in shipment.products">
                            <td><a data-ui-sref="Product.Edit({productId: product.productId._id})">{{product.name}}</a></td>
                            <td data-ng-bind="product.sku"></td>
                            <td data-ng-bind="product.quantityShipped"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </div>
</div>

